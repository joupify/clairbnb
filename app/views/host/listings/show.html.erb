

<div class="container">
    <div class="row">


  <h1 class="mb-3"><%= @listing.title %></h1>
    <div class="col-12 bg-secondary d-flex gap-5 mb-3">
    <p>Description: <%= @listing.description %></p>
    <p>Address: <%= @listing.address %></p>
    <p>City: <%= @listing.city %></p>
    <p>Postal Code: <%= @listing.postal_code %></p>
    <p>Country: <%= @listing.country %></p>
    <p>Latitude: <%= @listing.latitude %></p>
    <p>Longitude: <%= @listing.longitude %></p>
    <p>Max Guests: <%= @listing.max_guests %></p>
    <p>Status: <%= @listing.status %></p>
  </div>

  <h2>Listing Details</h2>
    <div class="col-md-6 bg-light">
      <p>Title: <%= @listing.title %></p>
      <p>Address: <%= @listing.address %></p>
      <p>Max Guests: <%= @listing.max_guests %></p>
   
  
    </div>
    <div class="col-md-6 bg-light">
      <h3>Rooms</h3>
      
      <% listing_details_hash = JSON.parse(@listing.listing_details) rescue nil %>
      <% if listing_details_hash.present? %>
        <ul>
        <li>Number of Rooms: <%= listing_details_hash['number_of_rooms'] %></li>
        <li>Number of Beds: <%= listing_details_hash['number_of_beds'] %></li>
        </ul>
          <h3>Rooms (<%= listing_details_hash['number_of_rooms'] %> total)</h3> 
        <p>Total Beds: <%= listing_details_hash['number_of_beds'] %></p> 
        <ul class="list-group">
          <% listing_details_hash['rooms'].each do |room| %>
            <li class="list-group-item">
              Room Type: <%= room['roomType'] %>
              <br>
              Number of Beds: <%= room['number_of_beds'] %>
              <br>
              Bed Size: <%= room['bed_size'] %>
            </li>

          <% end %>
        </ul>
      <% end %>
    </div>
  </div>
</div>




<%= link_to 'Edit', edit_host_listing_path(@listing) %>


